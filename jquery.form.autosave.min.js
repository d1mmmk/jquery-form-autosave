(function(c){var h,l;l=function(c,d){var a,b,f;b=0;for(f=d.length;b<f;b++)if(a=d[b],a===c)return!0;return!1};h=function(e,d){var a,b,f,g,h,k;if(g=e.data("autosave-name"))return a={name:g,b:{}},k=null,(g=JSON.parse(localStorage.getItem("autosave"+a.name)))&&(a=g),b=e.find("input, select, textarea").filter(function(){var a;if(d.a&&(a=c(this).attr("name"))&&!l(a,d.a))return c(this)}).each(function(){var b,e,d,h,f,g;e=c(this).attr("name");f=a.b;g=[];d=0;for(h=f.length;d<h;d++)b=f[d],b.name===e?g.push(c(this).val(b.value)):
g.push(void 0);return g}),h=function(){var a;a=[];b.each(function(){var b,d;b=c(this).attr("name");d=c(this).val();if(b)return a.push({name:b,value:d})});return a},f=function(){clearTimeout(k);return k=setTimeout(function(){d.save(e);a.b=h();return localStorage.setItem("autosave"+a.name,JSON.stringify(a))},d.interval)},b.on("change, keypress",function(){return f()}),c(this).autosave.clear=function(){localStorage.setItem("autosave"+a.name,null);return b.val("")},this};c.fn.autosave=function(e){e=c.extend({a:[],
interval:500,save:function(){}},e);return c(this).each(function(){c(this).data("autosave")||c(this).data("autosave",new h(c(this),e));return c(this)})};return this})(jQuery,window);
